{"ast":null,"code":"import { toast } from \"react-hot-toast\";\nimport { setLoading, setUser } from \"../../slices/profileSlice\";\nimport { apiConnector } from \"../apiConnector\";\nimport { profileEndpoints } from \"../apis\";\nimport { logout } from \"./authAPI\";\nconst {\n  GET_USER_DETAILS_API,\n  GET_USER_ENROLLED_COURSES_API,\n  GET_INSTRUCTOR_DATA_API\n} = profileEndpoints;\nexport function getUserDetails(token, navigate) {\n  return async dispatch => {\n    const toastId = toast.loading(\"Loading...\");\n    dispatch(setLoading(true));\n    try {\n      const response = await apiConnector(\"GET\", GET_USER_DETAILS_API, null, {\n        Authorization: `Bearer ${token}`\n      });\n      console.log(\"GET_USER_DETAILS API RESPONSE............\", response);\n      if (!response.data.success) {\n        throw new Error(response.data.message);\n      }\n      const userImage = response.data.data.image ? response.data.data.image : `https://api.dicebear.com/5.x/initials/svg?seed=${response.data.data.firstName} ${response.data.data.lastName}`;\n      dispatch(setUser({\n        ...response.data.data,\n        image: userImage\n      }));\n    } catch (error) {\n      dispatch(logout(navigate));\n      console.log(\"GET_USER_DETAILS API ERROR............\", error);\n      toast.error(\"Could Not Get User Details\");\n    }\n    toast.dismiss(toastId);\n    dispatch(setLoading(false));\n  };\n}\nexport async function getUserEnrolledCourses(token) {\n  const toastId = toast.loading(\"Loading...\");\n  let result = [];\n  try {\n    const response = await apiConnector(\"GET\", GET_USER_ENROLLED_COURSES_API, null, {\n      Authorization: `Bearer ${token}`\n    });\n    // console.log(\n    //   \"GET_USER_ENROLLED_COURSES_API API RESPONSE............\",\n    //   response\n    // )\n\n    if (!response.data.success) {\n      throw new Error(response.data.message);\n    }\n    result = response.data.data;\n  } catch (error) {\n    console.log(\"GET_USER_ENROLLED_COURSES_API API ERROR............\", error);\n    toast.error(\"Could Not Get Enrolled Courses\");\n  }\n  toast.dismiss(toastId);\n  return result;\n}\nexport async function getInstructorData(token) {\n  const toastId = toast.loading(\"Loading...\");\n  let result = [];\n  try {\n    var _response$data;\n    const response = await apiConnector(\"GET\", GET_INSTRUCTOR_DATA_API, null, {\n      Authorization: `Bearer ${token}`\n    });\n    console.log(\"GET_INSTRUCTOR_DATA_API API RESPONSE............\", response);\n    result = response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.courses;\n  } catch (error) {\n    console.log(\"GET_INSTRUCTOR_DATA_API API ERROR............\", error);\n    toast.error(\"Could Not Get Instructor Data\");\n  }\n  toast.dismiss(toastId);\n  return result;\n}","map":{"version":3,"names":["toast","setLoading","setUser","apiConnector","profileEndpoints","logout","GET_USER_DETAILS_API","GET_USER_ENROLLED_COURSES_API","GET_INSTRUCTOR_DATA_API","getUserDetails","token","navigate","dispatch","toastId","loading","response","Authorization","console","log","data","success","Error","message","userImage","image","firstName","lastName","error","dismiss","getUserEnrolledCourses","result","getInstructorData","_response$data","courses"],"sources":["/Users/roshan/Desktop/CodingWeb/src/services/operations/profileAPI.js"],"sourcesContent":["import { toast } from \"react-hot-toast\"\r\n\r\nimport { setLoading, setUser } from \"../../slices/profileSlice\"\r\nimport { apiConnector } from \"../apiConnector\"\r\nimport { profileEndpoints } from \"../apis\"\r\nimport { logout } from \"./authAPI\"\r\n\r\nconst {\r\n  GET_USER_DETAILS_API,\r\n  GET_USER_ENROLLED_COURSES_API,\r\n  GET_INSTRUCTOR_DATA_API,\r\n} = profileEndpoints\r\n\r\nexport function getUserDetails(token, navigate) {\r\n  return async (dispatch) => {\r\n    const toastId = toast.loading(\"Loading...\")\r\n    dispatch(setLoading(true))\r\n    try {\r\n      const response = await apiConnector(\"GET\", GET_USER_DETAILS_API, null, {\r\n        Authorization: `Bearer ${token}`,\r\n      })\r\n      console.log(\"GET_USER_DETAILS API RESPONSE............\", response)\r\n\r\n      if (!response.data.success) {\r\n        throw new Error(response.data.message)\r\n      }\r\n      const userImage = response.data.data.image\r\n        ? response.data.data.image\r\n        : `https://api.dicebear.com/5.x/initials/svg?seed=${response.data.data.firstName} ${response.data.data.lastName}`\r\n      dispatch(setUser({ ...response.data.data, image: userImage }))\r\n    } catch (error) {\r\n      dispatch(logout(navigate))\r\n      console.log(\"GET_USER_DETAILS API ERROR............\", error)\r\n      toast.error(\"Could Not Get User Details\")\r\n    }\r\n    toast.dismiss(toastId)\r\n    dispatch(setLoading(false))\r\n  }\r\n}\r\n\r\nexport async function getUserEnrolledCourses(token) {\r\n  const toastId = toast.loading(\"Loading...\")\r\n  let result = []\r\n  try {\r\n    const response = await apiConnector(\r\n      \"GET\",\r\n      GET_USER_ENROLLED_COURSES_API,\r\n      null,\r\n      {\r\n        Authorization: `Bearer ${token}`,\r\n      }\r\n    )\r\n    // console.log(\r\n    //   \"GET_USER_ENROLLED_COURSES_API API RESPONSE............\",\r\n    //   response\r\n    // )\r\n\r\n    if (!response.data.success) {\r\n      throw new Error(response.data.message)\r\n    }\r\n    result = response.data.data\r\n  } catch (error) {\r\n    console.log(\"GET_USER_ENROLLED_COURSES_API API ERROR............\", error)\r\n    toast.error(\"Could Not Get Enrolled Courses\")\r\n  }\r\n  toast.dismiss(toastId)\r\n  return result\r\n}\r\n\r\nexport async function getInstructorData(token) {\r\n  const toastId = toast.loading(\"Loading...\")\r\n  let result = []\r\n  try {\r\n    const response = await apiConnector(\"GET\", GET_INSTRUCTOR_DATA_API, null, {\r\n      Authorization: `Bearer ${token}`,\r\n    })\r\n    console.log(\"GET_INSTRUCTOR_DATA_API API RESPONSE............\", response)\r\n    result = response?.data?.courses\r\n  } catch (error) {\r\n    console.log(\"GET_INSTRUCTOR_DATA_API API ERROR............\", error)\r\n    toast.error(\"Could Not Get Instructor Data\")\r\n  }\r\n  toast.dismiss(toastId)\r\n  return result\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}