{"version":3,"file":"index.ejs.js","sources":["../src/task.js","../src/utils.js","../src/runner.js","../src/index.js"],"sourcesContent":["export default class Task {\n  async execute() {\n    return 42\n  }\n}\n","import t from 'typy'\n\nimport Task from './task'\n\nconst typeCheckup = (tasks) =>  {\n  if (!t(tasks).isArray) {\n    return false\n  }\n  return tasks.reduce((acc, currTask) => {\n    console.log(currTask, currTask.toString())\n    if (!(currTask instanceof Task)) {\n      console.log('failde', currTask, currTask.toString())\n    }\n    return acc && currTask instanceof Task\n  }, true)\n}\n\nexport default typeCheckup\n","import typeChecker from'./utils'\n\nconst runner = (configSetps) => new Promise((resolve, reject) => {\n  if (!typeChecker(configSetps)) {\n    console.error('The runner is not configure to run a list of tasks.', configSetps)\n    return reject(new Error('wrong type'))\n  }\n  const tasksList = configSetps.reduce((promiseChain, currentTask) =>\n    promiseChain\n      .then(chainResults =>\n        currentTask.execute().then(Array.prototype.concat.bind(chainResults))\n      ), Promise.resolve([]))\n  return resolve(tasksList)\n})\n\nexport default runner\n","import runner from './runner'\nimport Task from'./task'\nimport typeCheckup from'./utils'\n\nexport default {\n  runner,\n  Task,\n  typeCheckup\n}\n"],"names":["Task","execute","typeCheckup","tasks","t","isArray","reduce","acc","currTask","console","log","toString","runner","configSetps","Promise","resolve","reject","typeChecker","error","Error","tasksList","promiseChain","currentTask","then","chainResults","Array","prototype","concat","bind"],"mappings":";;AAAe,MAAMA,IAAN,CAAW;QAClBC,OAAN,GAAgB;WACP,EAAP;;;;;ACEJ,MAAMC,WAAW,GAAIC,KAAD,IAAY;MAC1B,CAACC,CAAC,CAACD,KAAD,CAAD,CAASE,OAAd,EAAuB;WACd,KAAP;;;SAEKF,KAAK,CAACG,MAAN,CAAa,CAACC,GAAD,EAAMC,QAAN,KAAmB;IACrCC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAAsBA,QAAQ,CAACG,QAAT,EAAtB;;QACI,EAAEH,QAAQ,YAAYR,IAAtB,CAAJ,EAAiC;MAC/BS,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,QAAtB,EAAgCA,QAAQ,CAACG,QAAT,EAAhC;;;WAEKJ,GAAG,IAAIC,QAAQ,YAAYR,IAAlC;GALK,EAMJ,IANI,CAAP;CAJF;;ACFA,MAAMY,MAAM,GAAIC,WAAD,IAAiB,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;MAC3D,CAACC,WAAW,CAACJ,WAAD,CAAhB,EAA+B;IAC7BJ,OAAO,CAACS,KAAR,CAAc,qDAAd,EAAqEL,WAArE;WACOG,MAAM,CAAC,IAAIG,KAAJ,CAAU,YAAV,CAAD,CAAb;;;QAEIC,SAAS,GAAGP,WAAW,CAACP,MAAZ,CAAmB,CAACe,YAAD,EAAeC,WAAf,KACnCD,YAAY,CACTE,IADH,CACQC,YAAY,IAChBF,WAAW,CAACrB,OAAZ,GAAsBsB,IAAtB,CAA2BE,KAAK,CAACC,SAAN,CAAgBC,MAAhB,CAAuBC,IAAvB,CAA4BJ,YAA5B,CAA3B,CAFJ,CADgB,EAIXV,OAAO,CAACC,OAAR,CAAgB,EAAhB,CAJW,CAAlB;SAKOA,OAAO,CAACK,SAAD,CAAd;CAV8B,CAAhC;;ACEA,YAAe;EACbR,MADa;EAEbZ,IAFa;EAGbE;CAHF;;;;"}